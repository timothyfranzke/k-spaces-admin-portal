<div id="dashboard-ecommerce" class="page-layout carded fullwidth" layout="row">
  <div class="top-bg md-accent-bg"></div>
  <!-- CENTER -->
  <div class="center" flex ms-scroll>
    <div class="header" layout="row" layout-align="space-between center">
      <div class="white-fg" layout="column" layout-align="start start">
        <div class="h1" layout="row" layout-align="start center">
          <md-icon class="material-icons">account_balance</md-icon>
          <span>Financial Dashboard</span>
        </div>
      </div>

      <div>
        <md-button class="blueButton" ng-click="vm.gotoLocationCreate()">
          <span translate="EC.ADD_LOCATION">Add Location</span>
        </md-button>
      </div>
    </div>
    <!-- CONTENT -->
    <div class="content">

      <!-- WIDGET GROUP -->
      <div class="widget-group" layout="row" flex="100" layout-wrap>

        <!-- WIDGET 1 -->
        <ms-widget flippable="true" layout="column" flex="100">

          <!-- Front -->
          <ms-widget-front class="white-bg">
            <div class="ph-8 pv-16 h-55" layout="row" layout-align="space-between center">
              <md-select class="simplified font-size-16" ng-model="vm.widget1.currentRange"
                         aria-label="Change range">
                <md-option ng-repeat="(key, range) in vm.widget1.ranges"
                           value="{{key}}">
                  {{range}}
                </md-option>
              </md-select>

              <md-menu>
                <md-button class="md-icon-button" ng-click="$mdOpenMenu()"
                           aria-label="more">
                  <md-icon md-font-icon="icon-dots-vertical"></md-icon>
                </md-button>

                <md-menu-content width="3">
                  <md-menu-item>
                    <md-button ng-click="flipWidget()" aria-label="Flip widget">
                      Details
                    </md-button>
                  </md-menu-item>
                  <md-menu-item>
                    <md-button ng-click="refreshWidget()" aria-label="Refresh widget">
                      Refresh
                    </md-button>
                  </md-menu-item>
                </md-menu-content>
              </md-menu>
            </div>

            <div class="pt-8 pb-32" layout="row" layout-align="space-around center" flex="45">
              <div layout="column">
                <div class="light-blue-fg font-size-72 line-height-72">
                  {{vm.widget1.data.count[vm.widget1.currentRange]}}%
                </div>
                <div class="h3 secondary-text font-weight-500">Pee poop</div>
              </div>
              <div layout="column">
                <div layout="row">
                  <div class="light-green-fg font-size-24">
                    7,200
                  </div>
                  Paid
                </div>
                <div layout="row" layout-align="start bottom">
                  <div class="red-fg font-size-24">
                    1,200
                  </div>
                  UNPAID
                </div>

                <div class="h3 secondary-text font-weight-500">Pee poop</div>
              </div>
            </div>
          </ms-widget-front>
          <!-- / Front -->

          <!-- Back -->
          <ms-widget-back class="p-16 white-bg">
            <div class="flip-to-front">
              <md-button class="md-icon-button" ng-click="flipWidget()"
                         aria-label="Flip widget">
                <md-icon md-font-icon="icon-close" class="s16"></md-icon>
              </md-button>
            </div>

            <div>
              {{vm.widget1.detail}}
            </div>
          </ms-widget-back>
          <!-- / Back -->

        </ms-widget>
        <!-- / WIDGET 1 -->
      </div>
      <!-- / WIDGET GROUP -->

      <!-- WIDGET GROUP -->
      <div class="widget-group" layout="row" flex="100" layout-wrap>

        <!-- WIDGET 5 -->
        <ms-widget layout="row" flex="100">

          <!-- Front -->
          <ms-widget-front class="white-bg">
            <div class="ph-16 pv-8 border-bottom" layout="row" layout-align="space-between center"
                 layout-wrap>
              <div class="pv-8 h3">{{vm.widget5.title}}</div>

              <div class="pv-8" layout="row" layout-align="start center" layout-align-sm="end"
                   flex-sm="100">
                <md-button class="ph-16"
                           ng-repeat="(key, range) in vm.widget5.ranges"
                           ng-click="vm.widget5.changeRange(key)"
                           ng-disabled="vm.widget5.currentRange == key">
                  {{range}}
                </md-button>
              </div>
            </div>

            <div class="p-16">
              <nvd3 class="h-420 remove-x-lines"
                    config="vm.widget5.mainChart.config"
                    options="vm.widget5.mainChart.options"
                    data="vm.widget5.mainChart.data"></nvd3>
            </div>
          </ms-widget-front>
          <!-- / Front -->

        </ms-widget>
        <!-- / WIDGET 5 -->

      </div>
      <!-- / WIDGET GROUP -->


      <!-- WIDGET GROUP -->
      <div class="widget-group" layout="row" flex="100" layout-wrap>

        <!-- WIDGET 6 -->
        <ms-widget layout="column" flex="100" flex-gt-sm="50">

          <!-- Front -->
          <ms-widget-front class="white-bg">

            <div class="ph-16 border-bottom" layout="row" layout-align="space-between center">
              <div class="h3">{{vm.widget6.title}}</div>
              <div class="pv-16">
                <md-select class="simplified" ng-model="vm.widget6.currentRange"
                           ng-change="vm.widget6.changeRange(vm.widget6.currentRange)"
                           aria-label="Change range">
                  <md-option ng-repeat="(key, range) in vm.widget6.ranges"
                             value="{{key}}">
                    {{range}}
                  </md-option>
                </md-select>
              </div>
            </div>

            <div class="p-16">
              <nvd3 class="h-400"
                    config="vm.widget6.mainChart.config"
                    options="vm.widget6.mainChart.options"
                    data="vm.widget6.mainChart.data"></nvd3>
            </div>

            <div class="pv-8 mh-16 border-top" layout="row" layout-align="start center" layout-wrap>
              <div class="pv-8 border-right" layout="column" layout-align="center center"
                   flex="100" flex-gt-xs="50">
                <span class="font-size-32">{{vm.widget6.footerLeft.count[vm.widget6.currentRange]}}</span>
                <span class="h4">{{vm.widget6.footerLeft.title}}</span>
              </div>

              <div class="pv-8" layout="column" layout-align="center center" flex="100"
                   flex-gt-xs="50">
                <span class="font-size-32">{{vm.widget6.footerRight.count[vm.widget6.currentRange]}}</span>
                <span class="h4">{{vm.widget6.footerRight.title}}</span>
              </div>
            </div>

          </ms-widget-front>
          <!-- / Front -->

        </ms-widget>
        <!-- / WIDGET 6 -->

        <!-- WIDGET 7 -->
        <ms-widget layout="column" flex="100" flex-gt-sm="50">

          <!-- Front -->
          <ms-widget-front class="white-bg">

            <div class="ph-16 border-bottom" layout="row" layout-align="space-between center">
              <div class="h3">{{vm.widget7.title}}</div>

              <div class="pv-16">
                <md-select class="simplified" ng-model="vm.widget7.currentRange"
                           aria-label="Change range">
                  <md-option ng-repeat="(key, range) in vm.widget7.ranges"
                             value="{{key}}">
                    {{range}}
                  </md-option>
                </md-select>
              </div>
            </div>

            <div class="p-16" layout="row" layout-align="space-between center"
                 ng-repeat="customer in vm.widget7.customers[vm.widget7.currentRange]">
              <div>
                <div class="h3">{{customer.name}}</div>
                <span ng-if="customer.location">{{customer.location}}</span>
              </div>

              <md-button class="md-icon-button" aria-label="More information">
                <md-icon md-font-icon="icon-dots-vertical"></md-icon>
              </md-button>
            </div>

          </ms-widget-front>
          <!-- / Front -->

        </ms-widget>
        <!-- / WIDGET 7 -->

      </div>
      <!-- / WIDGET GROUP -->

    </div>
    <!-- / CONTENT -->

  </div>
  <!-- / CENTER -->

</div>
